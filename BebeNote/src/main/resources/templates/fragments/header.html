<!--header.html-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
	  
	  <body>
	      <header class="header" th:fragment="header">
	          <div class="header-container">
	              <div class="header-left">
	                  <h1 class="logo"><a href="/main/main">베베접종수첩</a></h1>
	                  <nav class="nav">
	                      <a href="/headerMenu/bookmark" class="nav-item">즐겨찾기</a>
	                      <a href="/headerMenu/nearHospital" class="nav-item">근처소아과</a>
	                      <a href="/headerMenu/openHospital" class="nav-item">진료중인소아과</a>
	                  </nav>
	              </div>
	              <div class="header-right">
	                  <a href="#" class="auth-link" onclick="openLoginModal(); return false;">로그인</a>
					  <a href="#" class="auth-link" onclick="openInsertModal(); return false;">회원가입</a>	              
	                  <a href="/myPage/info" class="auth-link">마이페이지</a>
				  </div>
	          </div>
	      </header>
		  
		  <th:block th:fragment="modalScript">
		  <script>
		  // 회원가입 모달 스크립트 
		         function openInsertModal() {
		             const modal = document.getElementById('insertModal');
		             if (modal) {
		                 modal.classList.add('active');
		                 document.body.style.overflow = 'hidden';
		             }
		         }

		         function closeInsertModal() {
		             const modal = document.getElementById('insertModal');
		             if (modal) {
		                 modal.classList.remove('active');
		                 document.body.style.overflow = 'auto';
		             }
		         }

		         // DOM 로드 후 이벤트 리스너 등록
		         document.addEventListener('DOMContentLoaded', function() {
		             const modal = document.getElementById('insertModal');
		             
		             if (modal) {
		                 // 모달 외부 클릭 시 닫기
		                 modal.addEventListener('click', function(e) {
		                     if (e.target === this) {
		                         closeInsertModal();
		                     }
		                 });
		             }

		             // ESC 키로 모달 닫기
		             document.addEventListener('keydown', function(e) {
		                 if (e.key === 'Escape') {
		                     closeInsertModal();
		                 }
		             });

		             // 폼 제출 전 유효성 검사
		             const form = document.getElementById('signupForm');
		             if (form) {
		                 form.addEventListener('submit', function(e) {
		                     const checkbox = document.getElementById('agree');
		                     if (checkbox && !checkbox.checked) {
		                         e.preventDefault();
		                         alert('약관에 동의해주세요.');
		                         return false;
		                     }
		                 });
		             }
		         });
		 		 // 회원가입 모달 스크립트 끝 
		  	
				  // 로그인 모달
				  function openLoginModal(){
				      const modal = document.getElementById("loginModal"); // . 제거
				      if(modal){
				          modal.classList.add('active');
				          document.body.style.overflow = 'hidden';
				      }
				  }
		
				  function closeLoginModal() {
				      const modal = document.getElementById('loginModal');
				      if (modal) {
				          modal.classList.remove('active');
				          document.body.style.overflow = 'auto';
				      }
				  }
		
				  // DOM 로드 후 이벤트 리스너 등록
				  document.addEventListener('DOMContentLoaded', function() {
				      const modal = document.getElementById('loginModal');
		
				      if (modal) {
				          // 모달 외부 클릭 시 닫기
				          modal.addEventListener('click', function(e) {
				              if (e.target === this) {
				                  closeLoginModal(); // 수정
				              }
				          });
				      }
		
				      // ESC 키로 모달 닫기
				      document.addEventListener('keydown', function(e) {
				          if (e.key === 'Escape') {
				              closeLoginModal(); // 수정
				          }
				      });
				  });






		  	
		   </script>
			 
		</th:block>
	  </body>
	  
</html>
